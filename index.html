<!--
My Art Portfolio - Single-file webpage
Features:
- Responsive gallery grid for images (drawings) and embeds (animations)
- Drag & drop + file input to add images (stored in localStorage for quick personal use)
- Add animation via YouTube/Vimeo URL (stores as an embed card)
- Filters (All / Drawings / Animations)
- Lightbox modal for images with prev/next and caption
- Simple tag/title input per item
- Instructions at the bottom on how to host (GitHub Pages)

Notes:
- This is a client-side demo. For a proper portfolio (public hosting, many files), upload images to a hosting service or use GitHub Pages with the images committed to the repo or a simple backend.
- Clear localStorage to reset items (there's a button in settings).
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Art Portfolio</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#9aa4b2;--accent:#ffd166}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#071224 0%, #071a2b 100%);color:#e6eef6}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 24px;border-bottom:1px solid rgba(255,255,255,0.03)}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:44px;height:44px;background:linear-gradient(135deg,#ffb86b,#ff6b6b);border-radius:8px;display:flex;align-items:center;justify-content:center;color:#071224;font-weight:700}
    h1{font-size:18px;margin:0}
    nav{display:flex;gap:10px}
    button, .tab{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:8px;color:var(--muted);cursor:pointer}
    button.primary{background:linear-gradient(90deg,#ffb86b,#ff6b6b);color:#071224;border:none}
    .controls{display:flex;gap:12px;align-items:center}

    main{padding:20px}
    .panel{display:flex;gap:18px;flex-wrap:wrap;margin-bottom:18px}
    .uploader{flex:1 1 360px;min-width:280px;background:rgba(255,255,255,0.02);padding:14px;border-radius:10px}
    .uploader p{margin:6px 0;color:var(--muted)}
    .dropzone{border:2px dashed rgba(255,255,255,0.04);padding:18px;border-radius:8px;text-align:center;cursor:pointer}
    input[type=file]{display:none}
    .small{font-size:13px;color:var(--muted)}

    .filterbar{display:flex;gap:8px;align-items:center;margin-bottom:12px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}
    .card{background:var(--card);border-radius:10px;padding:8px;overflow:hidden;position:relative}
    .thumb{width:100%;height:140px;object-fit:cover;border-radius:8px;background:#071224}
    .meta{padding:8px 6px}
    .meta h3{margin:0;font-size:14px}
    .meta p{margin:6px 0 0 0;color:var(--muted);font-size:12px}

    .tag{display:inline-block;padding:4px 8px;border-radius:999px;border:1px solid rgba(255,255,255,0.04);font-size:12px;margin-right:6px}

    /* Lightbox */
    .lightbox{position:fixed;inset:0;background:rgba(3,6,12,0.8);display:flex;align-items:center;justify-content:center;padding:20px;z-index:60;display:none}
    .lightbox .content{max-width:1100px;width:100%;max-height:90vh;background:transparent}
    .lightbox img{max-width:100%;max-height:80vh;border-radius:10px}
    .lb-close{position:absolute;top:18px;right:18px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.06);cursor:pointer}
    .lb-nav{position:absolute;top:50%;transform:translateY(-50%);font-size:34px;padding:12px;border-radius:8px;background:rgba(255,255,255,0.03);cursor:pointer}
    .lb-prev{left:12px}
    .lb-next{right:12px}

    footer{padding:20px;color:var(--muted);font-size:13px}

    /* responsive tweaks */
    @media (max-width:640px){.grid{grid-template-columns:repeat(2,1fr)}.thumb{height:120px}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">A</div>
      <div>
        <h1>My Art Portfolio</h1>
        <div class="small">Drawings & Animations â€” personal gallery</div>
      </div>
    </div>
    <div class="controls">
      <div class="small">Filter</div>
      <div class="filterbar">
        <button class="tab" data-filter="all">All</button>
        <button class="tab" data-filter="drawing">Drawings</button>
        <button class="tab" data-filter="animation">Animations</button>
      </div>
      <button id="clearStorage" class="tab">Reset</button>
      <button id="helpBtn" class="tab">How to host</button>
    </div>
  </header>

  <main>
    <section class="panel">
      <div class="uploader">
        <strong>Add drawings (images)</strong>
        <p class="small">Drag & drop images here or <label for="imageInput" style="color:var(--accent);cursor:pointer">choose files</label>. JPG/PNG/GIF supported. You can add a title and tags for each image after uploading.</p>
        <div id="dropzone" class="dropzone" tabindex="0">Drop images here (or click)</div>
        <input id="imageInput" type="file" accept="image/*" multiple>
        <p class="small">Tip: Keep file sizes moderate for faster loading. This demo stores images in your browser (localStorage).</p>
      </div>

      <div class="uploader">
        <strong>Add animation (YouTube / Vimeo)</strong>
        <p class="small">Paste a YouTube or Vimeo link to add an embedded animation card.</p>
        <input id="animUrl" placeholder="https://youtube.com/watch?v=..." style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;margin-bottom:8px">
        <input id="animTitle" placeholder="Title (optional)" style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;margin-bottom:8px">
        <button id="addAnim" class="primary">Add Animation</button>
      </div>
    </section>

    <section>
      <div id="gallery" class="grid"></div>
    </section>
  </main>

  <div id="lightbox" class="lightbox" aria-hidden="true">
    <div class="lb-close" id="lbClose">âœ•</div>
    <div class="lb-nav lb-prev" id="lbPrev">â€¹</div>
    <div class="lb-nav lb-next" id="lbNext">â€º</div>
    <div class="content" id="lbContent"></div>
  </div>

  <footer>
    <div style="max-width:900px;margin:0 auto">
      <strong>Notes & Hosting</strong>
      <p class="small">This single-file app works locally in your browser. To make it publicly accessible, push this file to a GitHub repo and enable GitHub Pages (choose main branch -> docs or root). For larger galleries, consider hosting images on a CDN or image hosting (Imgur, Cloudinary) and storing metadata in a JSON file or lightweight backend.</p>
    </div>
  </footer>

  <script>
    // Simple client-side gallery with localStorage persistence
    const gallery = document.getElementById('gallery')
    const dropzone = document.getElementById('dropzone')
    const imageInput = document.getElementById('imageInput')
    const animUrl = document.getElementById('animUrl')
    const animTitle = document.getElementById('animTitle')
    const addAnim = document.getElementById('addAnim')
    const tabs = document.querySelectorAll('.tab[data-filter]')
    const clearStorage = document.getElementById('clearStorage')
    const helpBtn = document.getElementById('helpBtn')

    let items = JSON.parse(localStorage.getItem('portfolio_items')||'[]')
    let currentFilter = 'all'
    let lbIndex = 0

    function save(){ localStorage.setItem('portfolio_items', JSON.stringify(items)) }

    function render(){
      gallery.innerHTML = ''
      const visible = items.filter((it)=> currentFilter==='all' ? true : it.type===currentFilter)
      visible.forEach((it, idx)=>{
        const card = document.createElement('div'); card.className='card';
        if(it.type==='drawing'){
          const img = document.createElement('img'); img.className='thumb'; img.src=it.data; img.alt=it.title || 'drawing'
          img.addEventListener('click', ()=> openLightbox(idx))
          card.appendChild(img)
          const meta = document.createElement('div'); meta.className='meta';
          meta.innerHTML = `<h3>${escapeHtml(it.title||'Untitled')}</h3><p>${escapeHtml((it.tags||[]).join(', '))}</p>`
          card.appendChild(meta)
        } else {
          // animation embed preview (YouTube/Vimeo)
          const preview = document.createElement('div'); preview.style.padding='6px'
          preview.innerHTML = `<div style="position:relative;padding-top:56.25%"><iframe src="${it.embed}" frameborder="0" allowfullscreen style="position:absolute;inset:0;width:100%;height:100%;border-radius:8px"></iframe></div>`
          const meta = document.createElement('div'); meta.className='meta'; meta.innerHTML = `<h3>${escapeHtml(it.title||'Animation')}</h3><p class="small">${escapeHtml(it.source)}</p>`
          card.appendChild(preview); card.appendChild(meta)
        }
        // edit/remove
        const controls = document.createElement('div'); controls.style.position='absolute';controls.style.top='8px';controls.style.right='8px';
        controls.innerHTML = `<button class="tab" data-action="edit">âœŽ</button> <button class="tab" data-action="del">ðŸ—‘</button>`
        controls.querySelector('[data-action="del"]').addEventListener('click',()=>{ if(confirm('Delete this item?')){ items.splice(idx,1); save(); render() } })
        controls.querySelector('[data-action="edit"]').addEventListener('click',()=>{ editItem(idx) })
        card.appendChild(controls)

        gallery.appendChild(card)
      })
    }

    function openLightbox(index){
      const lb = document.getElementById('lightbox'); const content = document.getElementById('lbContent');
      lbIndex = index
      const it = items[index]
      content.innerHTML = ''
      if(it.type==='drawing'){
        const img = document.createElement('img'); img.src = it.data; content.appendChild(img)
        const caption = document.createElement('div'); caption.style.color='var(--muted)'; caption.style.marginTop='8px'; caption.textContent = it.title || '';
        content.appendChild(caption)
      }
      lb.style.display='flex'; lb.setAttribute('aria-hidden','false')
    }

    document.getElementById('lbClose').addEventListener('click', ()=>{ hideLB() })
    document.getElementById('lbPrev').addEventListener('click', ()=>{ navigateLB(-1) })
    document.getElementById('lbNext').addEventListener('click', ()=>{ navigateLB(1) })

    function hideLB(){ const lb=document.getElementById('lightbox'); lb.style.display='none'; lb.setAttribute('aria-hidden','true') }
    function navigateLB(dir){
      if(items.length===0) return
      lbIndex = (lbIndex + dir + items.length) % items.length
      openLightbox(lbIndex)
    }

    function editItem(idx){
      const it = items[idx]
      const newTitle = prompt('Enter title', it.title||'')
      if(newTitle===null) return
      it.title = newTitle
      const newTags = prompt('Enter tags (comma separated)', (it.tags||[]).join(', '))
      if(newTags!==null) it.tags = newTags.split(',').map(s=>s.trim()).filter(Boolean)
      save(); render()
    }

    // Dropzone handlers
    ;['dragenter','dragover'].forEach(ev=> dropzone.addEventListener(ev, (e)=>{ e.preventDefault(); dropzone.style.borderColor='rgba(255,255,255,0.12)' }))
    ;['dragleave','drop'].forEach(ev=> dropzone.addEventListener(ev, (e)=>{ e.preventDefault(); dropzone.style.borderColor='rgba(255,255,255,0.04)' }))
    dropzone.addEventListener('drop', (e)=>{ const files = Array.from(e.dataTransfer.files); handleFiles(files) })
    dropzone.addEventListener('click', ()=> imageInput.click())
    imageInput.addEventListener('change', ()=> handleFiles(Array.from(imageInput.files)))

    function handleFiles(files){
      const imageFiles = files.filter(f=> f.type && f.type.startsWith('image'))
      imageFiles.forEach(file=>{
        const reader = new FileReader()
        reader.onload = ()=>{
          const title = file.name.replace(/\.[^/.]+$/,"")
          items.unshift({type:'drawing', data:reader.result, title, tags:[]})
          save(); render()
        }
        reader.readAsDataURL(file)
      })
    }

    // Add animation
    addAnim.addEventListener('click', ()=>{
      const url = animUrl.value.trim(); if(!url) return alert('Paste a YouTube or Vimeo URL')
      const embed = makeEmbedUrl(url)
      if(!embed) return alert('Unsupported or invalid URL')
      const title = animTitle.value.trim() || 'Animation'
      items.unshift({type:'animation', embed, title, source:url})
      animUrl.value=''; animTitle.value=''
      save(); render()
    })

    // produce embed URLs for common providers
    function makeEmbedUrl(url){
      try{
        const u = new URL(url)
        if(u.hostname.includes('youtube')||u.hostname.includes('youtu.be')){
          // get v param or path
          let vid = u.searchParams.get('v')
          if(!vid){ const p=u.pathname.split('/').filter(Boolean); vid = p[p.length-1] }
          return `https://www.youtube.com/embed/${vid}`
        }
        if(u.hostname.includes('vimeo')){
          const p=u.pathname.split('/').filter(Boolean); const id = p[p.length-1]
          return `https://player.vimeo.com/video/${id}`
        }
        return null
      }catch(e){return null}
    }

    // filter tabs
    tabs.forEach(t=> t.addEventListener('click', ()=>{ tabs.forEach(x=>x.style.color='var(--muted)'); t.style.color='#071224'; t.style.background='var(--accent)'; currentFilter=t.dataset.filter; render() }))

    clearStorage.addEventListener('click', ()=>{
      if(confirm('Delete all saved items from this browser?')){ items=[]; save(); render() }
    })

    helpBtn.addEventListener('click', ()=>{
      alert('To host publicly: push this index.html to a GitHub repo and enable GitHub Pages from the repository settings. For more control, use Netlify, Vercel or a simple S3 + CloudFront setup.')
    })

    // small helper
    function escapeHtml(s){ if(!s) return ''; return s.replace(/[&<>\"']/g, (c)=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' })[c]) }

    // initial render
    render()
  </script>
</body>
</html>
